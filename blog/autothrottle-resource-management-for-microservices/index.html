<!DOCTYPE html>
<html lang="en-US"><head><script src="https://www.googletagmanager.com/gtag/js?id=G-9FB8SDTWWP" async=""></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];gtag(`js`,new Date());gtag(`config`,`G-9FB8SDTWWP`)</script><meta charset="utf-8"><meta content="-673247634" name="ir-site-verification-token"><meta content="index, follow" name="”robots”"><meta content="width=device-width,initial-scale=1" name="viewport"><link href="/styles.css" rel="stylesheet"><link href="" rel="me"><title>Autothrottle: Manage Resources for SLO-Targeted Microservices</title><meta content="Efficiently managing resources for latency-sensitive microservices applications is challenging. Autothrottle is a new approach to resource management for microservices." name="description"><meta name="theme-color"><meta content="website" name="og:type"><meta content="en_US" name="og:locale"><meta name="og:site_name"><meta content="/images/blog-paper-autothrottle.webp" name="og:image"><meta content="Autothrottle: Manage Resources for SLO-Targeted Microservices" name="og:title"><meta content="/blog/autothrottle-resource-management-for-microservices/" name="og:url"><meta content="Efficiently managing resources for latency-sensitive microservices applications is challenging. Autothrottle is a new approach to resource management for microservices." name="og:description"><meta content="summary_large_image" name="twitter:card"><meta name="twitter:site"><meta name="twitter:creator"><meta content="/images/blog-paper-autothrottle.webp" name="twitter:image"><meta content="Diagram of Autothrottle architecture. It decouples the mechanisms of SLO feedback and resource control, into applicationlevel and service-level control loops, respectively. Resource controls are locally performed to maintain the performance target derived from the pre-specified application SLO." name="twitter:image:alt"><meta content="Autothrottle: Manage Resources for SLO-Targeted Microservices" name="twitter:title"><meta content="Efficiently managing resources for latency-sensitive microservices applications is challenging. Autothrottle is a new approach to resource management for microservices." name="twitter:description"><link href="/blog/autothrottle-resource-management-for-microservices/" rel="canonical"><link href="/manifest.json" rel="manifest"><link color="#ffffff" href="/favicon.ico" rel="mask-icon"><link href="/favicon.ico" rel="icon"><link href="/apple-touch-icon.webp" rel="apple-touch-icon"><link href="/apple-touch-icon-precompose.webp" rel="apple-touch-icon-precomposed"><meta content="default-src 'self' https://www.googletagmanager.com https://www.google-analytics.com https://fonts.gstatic.com https://js.hsforms.net https://forms.hsforms.com https://www.google.com https://app.hubspot.com https://forms-na1.hsforms.com 'unsafe-inline'" http-equiv="Content-Security-Policy"><meta content="website" property="og:type"><meta content="https://referentiallabs.com/blog/autothrottle-resource-management-for-microservices/" property="og:url"><meta content="summary" name="twitter:card"></head><body class="bg-white dark:bg-zinc-950 text-zinc-950 dark:text-zinc-50"><header><div class="mx-auto w-screen w-full max-w-3xl md:max-w-4xl lg:max-w-6xl"><div class="flex mx-auto px-6 py-6 md:space-x-10 lg:px-8"><div class="flex-auto justify-start lg:flex-1"><a href="/"> <span class="sr-only">Referential Labs</span> <img class="aspect-[94/100] bg-white rounded-full p-2 ring-2" alt="Logo" height="50" src="/images/logo-sm.webp" width="47"> </a></div><nav class="space-x-2 md:space-x-8 lg:space-x-10 md:flex-auto place-end"><a class="text-base px-2 py-1 md:px-4 md:py-2 m-auto font-medium text-stone-600 dark:text-stone-200 hover:rounded-lg hover:no-underline hover:ring-2 hover:ring-green-800 hover:dark:ring-green-100" href="/"> Home </a><a class="text-base px-2 py-1 md:px-4 md:py-2 my-auto font-medium text-stone-600 dark:text-stone-200 hover:rounded-lg hover:no-underline hover:ring-2 hover:ring-green-800 hover:dark:ring-green-100" href="/#benefits"> Benefits </a><a class="text-base px-2 py-1 md:px-4 md:py-2 my-auto font-medium text-stone-600 dark:text-stone-200 hover:rounded-lg hover:no-underline hover:ring-2 hover:ring-green-800 hover:dark:ring-green-100" href="/#team"> Team </a><a class="text-base px-2 py-1 md:px-4 md:py-2 my-auto font-medium text-stone-600 dark:text-stone-200 hover:rounded-lg hover:no-underline hover:ring-2 hover:ring-green-800 hover:dark:ring-green-100" href="/#plans"> Plans </a><a class="text-base px-2 py-1 md:px-4 md:py-2 my-auto font-medium text-stone-600 dark:text-stone-200 hover:rounded-lg hover:no-underline hover:ring-2 hover:ring-green-800 hover:dark:ring-green-100" href="/#faqs"> FAQ </a><a class="text-base px-2 py-1 md:px-4 md:py-2 my-auto font-medium text-stone-600 dark:text-stone-200 hover:rounded-lg hover:no-underline hover:ring-2 hover:ring-green-800 hover:dark:ring-green-100" href="/blog">Blog</a></nav></div></div></header><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "item": { "@id": "/blog", "name": "Blog" }
    }
  ]
}
</script><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "@id": "/blog/autothrottle-resource-management-for-microservices/#BlogPosting",
    "mainEntityOfPage": "/blog/autothrottle-resource-management-for-microservices/",
    "headline": "Autothrottle: Manage Resources for SLO-Targeted Microservices",
    "name": "Autothrottle: Manage Resources for SLO-Targeted Microservices",
    "description": "Efficiently managing resources for latency-sensitive microservices applications is challenging. Autothrottle is a new approach to resource management for microservices.",
    "datePublished": "2023-08-17T19:00:00-05:00",
    "author": {
      "@type": "Person",
      "@id": "/about#susan-potter",
      "url": "/about#susan-potter",
      "name": "Susan Potter"
    },
    "image": {
      "@type": "ImageObject",
      "@id": "/images/spotter.webp",
      "url": "/images/spotter.webp",
      "height": "600",
      "width": "480"
    },
    "url": "/blog/autothrottle-resource-management-for-microservices/"
  }
</script><main class="max-w-3xl md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto w-full px-3"><article class="prose"><h1 class="text-2xl font-bold">Autothrottle: Manage Resources for SLO-Targeted Microservices</h1><p class="text-base front-light">1 minutes read (267 words)</p><p class="text-base font-light italic pb-3 border-b border-stone-300">August 17th, 2023</p><div><section class="mx-auto prose" id="review"><div><p>In this is post we will walk through the research paper <em class="text-green-900">Autothrottle: A Practical Bi-Level Approach to Resource Management for SLO-Targeted Microservices</em>.</p><h2 class="text-base italic pb-3 font-bold">Autothrottle: A Practical Bi-Level Approach to Resource Management for SLO-Targeted Microservices</h2><figure class="my-2 mx-3"><blockquote><p class="p-6 italic">We propose Autothrottle as a bi-level learning-assisted framework. It consists of (1) an application-level lightweight controller that learns to “assist” local heuristic resource control, with the visibility of application workloads, latencies, and the SLO; and (2) per-microservice agile controllers that continuously perform fine-grained CPU scaling, using local metrics and periodic “assistance” from the global level.</p></blockquote><figcaption class="py-2 px-6">Above is an excerpt from <cite><a href="https://www.microsoft.com/en-us/research/publication/autothrottle-a-practical-bi-level-approach-to-resource-management-for-slo-targeted-microservices/">paper</a></cite> under review in this post.</figcaption></figure></div></section><img alt="Diagram of Autothrottle architecture. It decouples the mechanisms of SLO feedback and resource control, into applicationlevel and service-level control loops, respectively. Resource controls are locally performed to maintain the performance target derived from the pre-specified application SLO." class="w-5/6 mx-auto aspect-[4/3]" height="635" loading="lazy" src="/images/blog-paper-autothrottle.webp" width="844"><div class="prose"><p>Microservices have become a popular architecture paradigm, providing benefits like independent scaling and modularity. However, operating and maintaining microservices introduces challenges around efficiently managing resources to provide good user experience within cost constraints.</p><p>This paper presents an intriguing bi-level control approach called Autothrottle that decouples application-level SLO monitoring from service-level resource controllers. The notion of a CPU throttle-based performance target is quite exciting, as it provides a way to bridge these levels. Platform engineers may find several practical takeaways from this paper when managing microservices.</p><h2>Practical Takeaways for Practitioners</h2><ul><li>The bi-level structure aligns well with aggregating metrics at the application level while collecting per-service metrics. This incremental observability is useful.</li><li>Tracking CPU throttling events can help set alerts and monitor service health. Throttling often indicates problems.</li><li>The online learning algorithm for autoscaling is handy for capacity planning using production traffic data.</li><li>The rapid feedback control and rollback mechanisms inform techniques for incident response.</li><li>Load testing microservices while correlating with metrics helps test observability.</li><li>The techniques could extend beyond CPU to memory, IO, network for holistic resource management.</li><li>The modular design enables gains without full end-to-end traces. Failures in one service are mitigated by others.</li><li>Integration with Kubernetes operators would be valuable for microservice deployments.</li></ul><h2>Summary</h2><p>The paper presents a practical bi-level resource management approach for microservices. The key takeaway for platform engineers is the value of incremental observability wins from decoupled monitoring and control. Tracking emerging proxy metrics like CPU throttling provides alerts for potential problems. And online learning algorithms lend themselves to continuous improvement of autoscaling policies.</p></div></div><section class="border-t border-gray-300 mt-6 lg:mt-12"><h2 class="text-2xl font-bold">Frequently Asked Questions</h2><div class="px-0"><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What are microservices?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">Microservices are an architecture style where an application is composed of small, independent services that communicate via APIs. This provides modularity and flexibility compared to monolithic apps.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>How do microservices differ from monolithic apps?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">Monolithic apps have tightly coupled components bundled together. Microservices break these into decentralized services that can be developed, deployed, and scaled independently.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What is a service mesh?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">A service mesh provides networking capabilities like load balancing, encryption, logging, and monitoring for microservices. Popular options include Istio and Linkerd.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What is a container?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">Containers package code and dependencies into isolated processes to enable reproducible and portable deployment of applications. Docker and Kubernetes are commonly used.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What is vertical scaling?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">Vertical scaling adjusts the resources (e.g. CPU, memory) allocated to an application instance. This allows fine-grained scaling.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What is horizontal scaling?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">Horizontal scaling changes the number of instances of an application. This allows coarse-grained scaling to handle load changes.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What is a latency SLO?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">A service level objective (SLO) defines a target level for a metric like request latency. Common examples are 95th percentile latency under 50ms.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What is tail latency?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">Tail latency refers to the latency experienced by requests in the tail (e.g. 95th or 99th percentile) of the distribution. It focuses on worst-case vs. average.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What is online machine learning?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">Online ML sequentially trains models on incoming data in real-time, as opposed to offline training on fixed datasets. It is commonly used for adaptation.</div> </detail><detail class="my-2 pb-1 list-none"> <summary class="pt-1"><strong>What are multi-armed and contextual bandits?</strong></summary> <div class="pb-4 pt-1 border-b border-b-stone-300">Bandits are simple reinforcement learning techniques for decision making with limited information. Contextual bandits use additional context to inform actions.</div> </detail></div></section></article></main><footer class="bg-white dark:bg-zinc-950"><div class="mx-auto max-w-7xl overflow-hidden"><div class="mt-4 flex justify-center space-x-10"><a class="text-stone-500 dark:text-stone-200 hover:text-green-700" href="https://www.linkedin.com/company/10681458"> <span class="sr-only">LinkedIn</span> <svg class="h-6 w-6" viewbox="0 0 24 24" aria-hidden="true" fill="currentColor"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect height="12" width="4" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg> </a><a class="text-stone-500 dark:text-stone-200 hover:text-green-700" href="https://twitter.com/referentiallabs"> <span class="sr-only">Twitter</span> <svg class="h-6 w-6" viewbox="0 0 24 24" aria-hidden="true" fill="currentColor"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg> </a><a class="text-stone-500 dark:text-stone-200 hover:text-green-700" href="https://github.com/referentiallabs"> <span class="sr-only">GitHub</span> <svg class="h-6 w-6" viewbox="0 0 24 24" aria-hidden="true" fill="currentColor"><path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" fill-rule="evenodd"></path></svg> </a></div><p class="mt-2 md:mt-4 text-center text-xs leading-5 text-stone-600 dark:text-stone-200">© - Referential Labs LLC. All rights reserved.</p></div></footer></body></html>